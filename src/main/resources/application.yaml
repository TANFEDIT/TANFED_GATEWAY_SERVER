eureka:
    client:
        fetch-registry: true
        register-with-eureka: true
        service-url:
            defaultZone: https://${EUREKA_HOST}/eureka/
    instance:
        prefer-ip-address: true
server:
    port: ${PORT:8085}
spring:
  application:
        name: GATEWAY-SERVER
  cloud:
    gateway:
     websocket:
      enabled: true
     globalcors:
        cors-configurations:
          '[/**]':  
            allowedOrigins:
              - "${FRONTEND_URL}"
              - "${RENDER_FRONTEND_URL}"
            allowedMethods:
              - GET
              - POST
              - PUT
              - OPTIONS
            allowedHeaders: "*"
            exposedHeaders: "Authorization"
            allowCredentials: true
     routes:
      - id: USER-SERVICE
        uri: https://${USER_API}
        predicates:
          - Path=/auth/**,/api/user/**

      - id: websocket-route
        uri: ws://${USER_API}
        predicates:
          - Path=/ws/**
        filters:
          - name: PreserveHostHeader

      - id: BASICINFO-SERVICE
        uri: https://${SHARED_API}
        predicates:
          - Path=/api/accountsmaster/**,/api/basic-info/**,/api/inventrymaster/**,/api/data/**

      - id: ACCOUNTS-SERVICE
        uri: http://localhost:8083
        predicates:
          - Path=/api/accounts/**,/api/billsaccounts/**

      - id: INVENTRY-SERVICE
        uri: http://localhost:8084
        predicates:
          - Path=/api/inventry/**,/api/ic/**,/api/sob/**



